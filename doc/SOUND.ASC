10 REM Editor de Sons
20 RA=0:RB=0:RC=0:SA=0:SB=0:SC=0:VA=0:VB=0:VC=0:E1=0:E2=0:F0=0:A1=0:A2=0:B1=0:B2=0:C1=0:C2=0:FA=0:FB=0:FC=0:FR=0:S$="T":FOR I=1 TO 10:KEY(I) ON:NEXT I:ON KEY GOSUB 90,150,200,230,240,260,290,310,320,330
30 M=1:FOR I=1 TO 9:READ XC(I),YC(I):NEXT I
40 CLS:KEYOFF:SCREEN 1:WIDTH 28:PRINT TAB(8);"EDITOR DE SONS":LOCATE 11,3:PRINT "C A N A L":PRINT:PRINT TAB(8);"A      B      C":PRINT:PRINT ">Tom":PRINT:PRINT " Ruido":PRINT:PRINT " Freq":PRINT:PRINT " R+":PRINT:PRINT " R-":PRINT:PRINT " Volume"
50 PRINT:PRINT " Envelope T-      T+":PRINT:PRINT " Forma        Ruido":DEF FNA(X)=111875!/X\256:DEF FNB(X)=INT(.5+111875!/X MOD 256)
60 LOCATE 7,7:PRINT A1;TAB(14);B1;TAB(21);C1:LOCATE 7,9:PRINT A2;TAB(14);B2;TAB(21);C2:LOCATE 7,11:PRINT FA;TAB(14);FB;TAB(21);FC:LOCATE 7,13:PRINT RA;TAB(14);RB;TAB(21);RC:LOCATE 7,15:PRINT SA;TAB(14);SB;TAB(21);SC
70 LOCATE 7,17:PRINT VA;TAB(14);VB;TAB(21);VC:LOCATE 12,19:PRINT E1:LOCATE 20,19:PRINT E2:LOCATE 7,21:PRINT F0:LOCATE 19,21:PRINT FR
80 GOTO 80
90 IF M=1 THEN A1=1-A1 ELSE IF M=2 THEN A2=1-A2 ELSE IF M=3 THEN 140 ELSE IF M=4 THEN RA=RA-1 ELSE IF M=5 THEN SA=SA-1 ELSE IF M=6 THEN VA=VA-1 ELSE IF M=8 THEN F0=F0-1
100 IF M=9 THEN FR=FR-1
110 IF M=7 THEN E1=E1-1
120 IF E1<0 THEN E1=0
130 IF M<>3 THEN 340
140 LOCATE 0,22:INPUT "Freq ";FA:RA=FNA(FA):SA=FNB(FA):GOTO 340
150 IF M=1 THEN B1=1-B1 ELSE IF M=2 THEN B2=1-B2 ELSE IF M=3 THEN 190 ELSE IF M=4 THEN RB=RB-1 ELSE IF M=5 THEN SB=SB-1 ELSE IF M=6 THEN VB=VB-1
160 IF M=7 THEN E2=E2-1
170 IF E2<0 THEN E2=0
180 IF M<>3 THEN 340
190 LOCATE 0,22:INPUT "Freq ";FB:RB=FNA(FB):SB=FNB(FB):GOTO 340
200 IF M=1 THEN C1=1-C1 ELSE IF M=2 THEN C2=1-C2 ELSE IF M=3 THEN 220 ELSE IF M=4 THEN RC=RC-1 ELSE IF M=5 THEN SC=SC-1 ELSE IF M=6 THEN VC=VC-1
210 IF M<>3 THEN 340
220 LOCATE 0,22:INPUT "Freq ";FC:RC=FNA(FC):SC=FNB(FC):GOTO 340
230 SOUND 13,F0:RETURN 60
240 LOCATE XC(M),YC(M):PRINT " ":M=M+1:IF M>9 THEN M=1
250 LOCATE XC(M),YC(M):PRINT ">":RETURN 60
260 IF M=4 THEN RA=RA+1 ELSE IF M=5 THEN SA=SA+1 ELSE IF M=6 THEN VA=VA+1 ELSE IF M=8 THEN F0=F0+1 ELSE IF M=7 THEN E1=E1+1
270 IF M=9 THEN FR=FR+1
280 GOTO 340
290 IF M=4 THEN RB=RB+1 ELSE IF M=5 THEN SB=SB+1 ELSE IF M=6 THEN VB=VB+1 ELSE IF M=7 THEN E2=E2+1
300 GOTO 340
310 IF M=4 THEN RC=RC+1 ELSE IF M=5 THEN SC=SC+1 ELSE IF M=6 THEN VC=VC+1
320 GOTO 340
330 RETURN 60
340 LOCATE 0,22:PRINT "                ":IF VA<0 THEN VA=0 ELSE IF VA>16 THEN CA=16
350 IF VB<0 THEN VB=0 ELSE IF VB>16 THEN VB=16
360 IF VC<0 THEN VC=0 ELSE IF VC>16 THEN VC=16
370 IF RA<0 THEN RA=0 ELSE IF RA>15 THEN RA=16
380 IF RB<0 THEN RB=0 ELSE IF RB>15 THEN RB=15
390 IF RC<0 THEN RC=0 ELSE IF RC>15 THEN RC=15
400 IF SA<0 THEN SA=0 ELSE IF SA>255 THEN SA=255
410 IF SB<0 THEN SB=0 ELSE IF SB>255 THEN SB=255
420 IF SC<0 THEN SC=0 ELSE IF SC>255 THEN SC=255
430 IF FR<0 THEN FR=0 ELSE IF FR>31 THEN FR=31
440 IF E1<0 THEN E1=0 ELSE IF E1>255 THEN E1=255
450 IF E2<0 THEN E2=0 ELSE IF E2>255 THEN E2=255
460 S=255-8*A2-16*B2-32*C2-A1-2*B1-4*C1:SOUND 0,SA:SOUND 1,RA:SOUND 2,SB:SOUND 3,RB:SOUND 4,SC:SOUND 5,RC
470 IF F0=15 THEN F0=0 ELSE IF F0=-1 THEN F0=14
480 SOUND 6,FR:SOUND 7,S:SOUND 8,VA:SOUND 9,VB:SOUND 10,VC:SOUND 11,E1:SOUND 12,E2
490 FOR I=1 TO 10:KEY(I) ON:NEXT I:RETURN 60
500 DATA 0,7,0,9,0,11,0,13,0,15,0,17,0,19,0,21,13,21
